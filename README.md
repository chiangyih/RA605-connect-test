# RA605-710-GB é€£ç·šæ¸¬è©¦ & LIN é‹å‹•æ¸¬è©¦

## æ¦‚è¦½
`RA605-connect-test2` ä¸€å€‹ WinForms ç”¨æˆ¶ç«¯æ‡‰ç”¨ç¨‹å¼ï¼Œç”¨ä¾†æ¸¬è©¦å’Œæ§åˆ¶ HIWIN RA605 æ©Ÿæ¢°æ‰‹è‡‚ã€‚é€é HRSDKï¼ˆHiwin Robot SDKï¼‰çš„ `HRobot.dll`ï¼Œæ‡‰ç”¨ç¨‹å¼å¯ä»¥å¯¦ç¾é€£ç·šã€é¦¬é”æ§åˆ¶ã€ä½ç½®æŸ¥è©¢å’Œ LIN ç›´ç·šé‹å‹•ç­‰åŠŸèƒ½ã€‚å·¥ç¨‹å¸«ç„¡éœ€é€²å…¥ç¤ºæ•™å™¨å°±èƒ½é©—è­‰é€šè¨Šå”è­°ã€é‹å‹•è»Œè·¡å’Œå®‰å…¨é‚è¼¯ã€‚

---

## âš ï¸ é‡è¦æ³¨æ„äº‹é …

### ğŸ”´ **æ¨¡å¼åˆ‡æ›å¿…é ˆè¨­å®šç‚º EXTï¼ˆå¤–éƒ¨æ¨¡å¼ï¼‰**

åœ¨ä½¿ç”¨æœ¬æ‡‰ç”¨ç¨‹å¼æ§åˆ¶æ©Ÿæ¢°æ‰‹è‡‚å‰ï¼Œ**å¿…é ˆ**åœ¨ç¤ºæ•™å™¨ä¸Šå°‡æ“ä½œæ¨¡å¼åˆ‡æ›åˆ° **EXTï¼ˆå¤–éƒ¨æ¨¡å¼ï¼‰**ï¼Œå¦å‰‡æ‰€æœ‰å¤–éƒ¨å‘½ä»¤éƒ½æœƒè¢«æ‹’çµ•ã€‚


#### âš ï¸ å¸¸è¦‹å•é¡Œæ’é™¤
| å•é¡Œ | åŸå›  | è§£æ±ºæ–¹æ¡ˆ |
|------|------|--------|
| åŸ·è¡Œ LIN æ™‚å‘½ä»¤è¢«æ‹’çµ• | æ¨¡å¼ä¸æ˜¯ EXT | ç¢ºèªç¤ºæ•™å™¨æ“ä½œæ¨¡å¼ç‚º EXT |
| é¦¬é”ç„¡æ³•é–‹å•Ÿ | æ¨¡å¼è¨­ç‚º Manualï¼ˆæ‰‹å‹•ï¼‰ | åˆ‡æ›åˆ° EXT æ¨¡å¼ä¸¦æ¸…é™¤ä»»ä½•è­¦å ± |
| å‘½ä»¤è¿”å›éŒ¯èª¤ç¢¼ -1 | å¯èƒ½çš„æ¨¡å¼ä¸åŒ¹é… | æª¢æŸ¥æ§åˆ¶å™¨å’Œæ‡‰ç”¨ç¨‹å¼çš„æ¨¡å¼è¨­ç½® |

---

## ğŸ–¥ï¸ é©ç”¨ç’°å¢ƒ

æœ¬æ‡‰ç”¨ç¨‹å¼æ”¯æ´ä»¥ä¸‹å…©ç¨®ç’°å¢ƒï¼š

### ç’°å¢ƒ 1ï¸âƒ£ï¼šHRSSï¼ˆè™›æ“¬æ¨¡æ“¬å™¨ï¼‰

**é©ç”¨å ´æ™¯**ï¼š
- âœ… é–‹ç™¼å’Œæ¸¬è©¦ä»£ç¢¼é‚è¼¯
- âœ… èª¿è©¦ UI å’Œé€šè¨Šå”è­°
- âœ… é©—è­‰å‘½ä»¤åºåˆ—ç„¡éœ€å¯¦æ©Ÿ
- âœ… é›¢ç·šé–‹ç™¼å’Œæ¼”ç¤º

**HRSS ç‰¹æ€§**ï¼š
- è™›æ“¬åŒ–çš„æ©Ÿæ¢°æ‰‹è‡‚ç’°å¢ƒ
- å®Œæ•´æ¨¡æ“¬ SDK æ¥å£
- ç„¡éœ€é€£æ¥å¯¦éš›ç¡¬é«”
- å¯å¿«é€Ÿåè¦†è¿­ä»£

**é…ç½®æ­¥é©Ÿ**ï¼š
1. åœ¨ Hiwin å®˜æ–¹ç¶²ç«™ä¸‹è¼‰ä¸¦å®‰è£ HRSSï¼ˆHiwin Robot Simulation Systemï¼‰
2. å•Ÿå‹• HRSS æ‡‰ç”¨ç¨‹å¼
3. åŠ è¼‰ RA605 æ©Ÿæ¢°æ‰‹è‡‚æ¨¡å‹
4. åœ¨ HRSS ä¸­å°‡æ“ä½œæ¨¡å¼è¨­ç‚º **EXT**
5. è¨˜ä¸‹ HRSS ä¸­æ§åˆ¶å™¨çš„ IP ä½å€ï¼ˆé€šå¸¸ç‚º localhost æˆ– 127.0.0.1ï¼‰
6. åœ¨æœ¬æ‡‰ç”¨ä¸­è¼¸å…¥è©² IP ä¸¦é€£æ¥

**HRSS ä¸­çš„ EXT æ¨¡å¼è¨­ç½®**ï¼š
```

**æ³¨æ„**ï¼š
- HRSS é»˜èªç›£è½ `localhost:9090` æˆ– `127.0.0.1`
- å¯åœ¨ HRSS è¨­ç½®ä¸­æŸ¥çœ‹æˆ–ä¿®æ”¹ç›£è½ IP å’Œ PORT
- è™›æ“¬æ‰‹è‡‚çš„é‹å‹•ç´„æŸèˆ‡å¯¦æ©Ÿç›¸åŒ

---

### ç’°å¢ƒ 2ï¸âƒ£ï¼šæ‰‹è‡‚å¯¦æ©Ÿï¼ˆå¯¦éš›ç¡¬é«”ï¼‰

**é©ç”¨å ´æ™¯**ï¼š
- âœ… ç”Ÿç”¢ç’°å¢ƒé©—è­‰
- âœ… çœŸå¯¦è»Œè·¡å’Œé€Ÿåº¦æ¸¬è©¦
- âœ… å®‰å…¨èªè­‰å’Œé©—æ”¶æ¸¬è©¦
- âœ… å·¥å» éƒ¨ç½²å‰çš„æœ€å¾Œç¢ºèª

**ç¡¬é«”éœ€æ±‚**ï¼š
- HIWIN RA605 æ©Ÿæ¢°æ‰‹è‡‚æ§åˆ¶å™¨
- ç¶²è·¯é€£æ¥åˆ°æ§åˆ¶å™¨ï¼ˆEthernetï¼‰
- åŒ¹é…çš„ HRSDK.dll ç‰ˆæœ¬
- ç¬¦åˆ RA605 è¦æ ¼çš„ .NET 10 ç’°å¢ƒ

**é…ç½®æ­¥é©Ÿ**ï¼š
1. ç¢ºèªæ©Ÿæ¢°æ‰‹è‡‚å’Œæ§åˆ¶å™¨å·²å•Ÿå‹•
2. åœ¨ç¤ºæ•™å™¨ä¸Šå°‡æ“ä½œæ¨¡å¼åˆ‡æ›åˆ° **EXT**
3. ç¢ºèªç¶²è·¯é€£æ¥åˆ°æ§åˆ¶å™¨ï¼ˆå¯ ping æ¸¬è©¦ IPï¼‰
4. åœ¨æœ¬æ‡‰ç”¨ä¸­è¼¸å…¥æ§åˆ¶å™¨çš„ IP ä½å€
5. é»æ“Š Connect é€²è¡Œé€£æ¥
6. é–‹å•Ÿé¦¬é”ï¼ˆMotor ONï¼‰é€²è¡Œæ¸¬è©¦

**å¯¦æ©Ÿç’°å¢ƒçš„ EXT æ¨¡å¼è¨­ç½®**ï¼š
```
ç¤ºæ•™å™¨ä¸­çš„è¨­ç½®æ­¥é©Ÿï¼š
    [ä¸»èœå–®] â†’ [ç³»çµ±è¨­ç½®] â†’ [æ“ä½œæ¨¡å¼]
                    â†“
    å°‡æ“ä½œæ¨¡å¼è¨­ç‚º EXTï¼ˆå¤–éƒ¨æ¨¡å¼ï¼‰
                    â†“
    ç¢ºèªä¸¦ä¿å­˜è¨­ç½®
    ï¼ˆè¨­ç½®æœƒç«‹å³ç”Ÿæ•ˆï¼Œç„¡éœ€é‡å•Ÿï¼‰
```

**å®‰å…¨è€ƒé‡**ï¼š
- âš ï¸ ç¢ºä¿äººå“¡åœ¨å®‰å…¨è·é›¢å¤–
- âš ï¸ å•Ÿç”¨ç·Šæ€¥åœæ­¢æŒ‰éˆ•
- âš ï¸ æª¢æŸ¥å·¥ä½œç¯„åœç„¡éšœç¤™ç‰©
- âš ï¸ é©—è­‰æ‰€æœ‰è»Ÿä»¶é™åˆ¶è¨­ç½®æ­£ç¢º
- âš ï¸ ç¬¬ä¸€æ¬¡æ¸¬è©¦æ‡‰ä½¿ç”¨ä½é€Ÿåº¦

**å¯¦æ©Ÿç‰¹æœ‰çš„æª¢æŸ¥**ï¼š
| æª¢æŸ¥é … | é‡è¦æ€§ | æ“ä½œ |
|------|-------|------|
| ç‰©ç†å®‰å…¨ | âš ï¸âš ï¸âš ï¸ å¿…é ˆ | æª¢æŸ¥å·¥ä½œç¯„åœã€éšœç¤™ç‰©ã€äººå“¡ä½ç½® |
| æ§åˆ¶å™¨é›»æº | âš ï¸âš ï¸ å¿…é ˆ | ç¢ºèªæ§åˆ¶å™¨å·²é€šé›»ä¸”æŒ‡ç¤ºç‡ˆæ­£å¸¸ |
| ç¶²è·¯é€£æ¥ | âš ï¸âš ï¸ å¿…é ˆ | ping æ§åˆ¶å™¨ IP ç¢ºèªç¶²è·¯å¯é” |
| EXT æ¨¡å¼ | âš ï¸âš ï¸ å¿…é ˆ | åœ¨ç¤ºæ•™å™¨ä¸Šé©—è­‰æ“ä½œæ¨¡å¼ç‚º EXT |
| é¦¬é”ç‹€æ…‹ | âš ï¸âš ï¸ å»ºè­° | åœ¨ç¤ºæ•™å™¨ä¸Šæª¢æŸ¥é¦¬é”æ˜¯å¦å·²å•Ÿå‹• |
| è­¦å ±æ¸…é™¤ | âš ï¸âš ï¸ å»ºè­° | æ¸…é™¤ä»»ä½•å­˜åœ¨çš„è­¦å ±ä»£ç¢¼ |
| é€Ÿåº¦è¨­ç½® | âš ï¸ å»ºè­° | ç¬¬ä¸€æ¬¡æ¸¬è©¦è¨­å®šè¼ƒä½é€Ÿåº¦ï¼ˆå¦‚ 50 mm/sï¼‰ |

---

## ğŸŒ ç’°å¢ƒé¸æ“‡æŒ‡å—

### æˆ‘æ‡‰è©²é¸æ“‡å“ªå€‹ç’°å¢ƒï¼Ÿ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ä½ æœ‰å¯¦éš›çš„æ©Ÿæ¢°æ‰‹è‡‚å—ï¼Ÿ               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                       â”‚
        å¦                       æ˜¯
         â”‚                       â”‚
         â†“                       â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ä½¿ç”¨ HRSSâ”‚           â”‚ ä½¿ç”¨ æ‰‹è‡‚â”‚
    â”‚ è™›æ“¬ç’°å¢ƒ â”‚           â”‚ å¯¦æ©Ÿç’°å¢ƒ â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                     â”‚
         â”œâ”€ å¿«é€Ÿæ¸¬è©¦           â”œâ”€ å®Œæ•´é©—è­‰
         â”œâ”€ é›¢ç·šé–‹ç™¼           â”œâ”€ å®‰å…¨èªè­‰
         â””â”€ ä½æˆæœ¬             â””â”€ ç”Ÿç”¢éƒ¨ç½²

é¸æ“‡å»ºè­°ï¼š
    ç¬¬ä¸€æ¬¡ä½¿ç”¨ â†’ HRSS
    ä»£ç¢¼å®Œæˆ   â†’ æ‰‹è‡‚å¯¦æ©Ÿ
    æŒçºŒé–‹ç™¼   â†’ å…©è€…éƒ½ç”¨ï¼ˆHRSS é–‹ç™¼ï¼Œå¯¦æ©Ÿé©—è­‰ï¼‰
```

---

## ä¸»è¦åŠŸèƒ½

### 1. é€£ç·šç®¡ç†
- **é è¨­ IP**ï¼š`192.168.203.200`ï¼ˆå¯è‡ªè¨‚ï¼‰
- **é€£ç·šé©—è­‰**ï¼šè‡ªå‹•é¡¯ç¤º SDK ç‰ˆæœ¬åŠé€£ç·šç‹€æ…‹
- **éŒ¯èª¤è¨ºæ–·**ï¼šè©³ç´°çš„é€£ç·šå¤±æ•—åŸå› æç¤ºï¼ˆç¶²è·¯ã€å›å‘¼æ©Ÿåˆ¶ã€ç‰ˆæœ¬ä¸ç¬¦ç­‰ï¼‰
- **å®‰å…¨æ–·é–‹**ï¼šæ‡‰ç”¨ç¨‹å¼çµæŸæˆ–æŒ‰ä¸‹çµæŸæŒ‰éˆ•æ™‚è‡ªå‹•æ–·é–‹é€£æ¥

### 2. é¦¬é”æ§åˆ¶
- **é¦¬é”é–‹å•Ÿ (Motor ON)**
  - æª¢æŸ¥ç›®å‰é¦¬é”ç‹€æ…‹
  - è‹¥å·²é–‹å•Ÿå‰‡æç¤ºç”¨æˆ¶
  - è‹¥é–‹å•Ÿå¤±æ•—æœƒè‡ªå‹•æª¢æŸ¥è­¦å ±ä»£ç¢¼ä¸¦æç¤ºåŸå› 
  
- **é¦¬é”é—œé–‰ (Motor OFF)**
  - è¦æ±‚ç”¨æˆ¶ç¢ºèªï¼ˆé˜²æ­¢èª¤æ“ä½œï¼‰
  - é—œé–‰å¾Œé©—è­‰ç‹€æ…‹è®Šæ›´
  - è‹¥å¤±æ•—æœƒæç¤ºå¯èƒ½çš„åŸå› ï¼ˆå®‰å…¨é–€ã€è­¦å ±ã€ç‹€æ…‹ä¸æ­£ç¢ºï¼‰

- **ç‹€æ…‹ç¢ºèªæ©Ÿåˆ¶**
  - ç™¼é€å‘½ä»¤å¾Œç­‰å¾… 500ms å†æ¬¡æª¢æŸ¥ç‹€æ…‹
  - è‹¥ç‹€æ…‹æœªè®Šæ›´æœƒé¡¯ç¤ºè­¦å‘Šä¸¦æª¢æŸ¥è­¦å ±
  - æ‰€æœ‰æ“ä½œéƒ½æœƒåœ¨æ—¥èªŒä¸­è¨˜éŒ„

### 3. ä½ç½®ç®¡ç†
- **å–å¾—ç•¶å‰ä½ç½® (Get Current Position)**
  - ä¸€éµæŸ¥è©¢æ©Ÿæ¢°æ‰‹è‡‚å³æ™‚åº§æ¨™ï¼ˆX, Y, Z, A, B, Cï¼‰
  - åŒæ™‚å–å¾—å…­å€‹é—œç¯€çš„è§’åº¦ï¼ˆJ1~J6ï¼‰
  - è‡ªå‹•å¡«å…¥ LIN é‹å‹•æ¸¬è©¦çš„è¼¸å…¥æ¡†
  - æ–¹ä¾¿é€²è¡Œå¢é‡èª¿æ•´å’Œé æ¸¬æ€§æ¸¬è©¦

### 4. LIN ç›´ç·šé‹å‹•æ¸¬è©¦
å®Œæ•´çš„é‹å‹•æµç¨‹åŒ…æ‹¬ï¼š

#### è¼¸å…¥é©—è­‰
- åº§æ¨™è¼¸å…¥ï¼ˆX, Y, Z, A, B, Cï¼‰å¿…é ˆç‚ºæœ‰æ•ˆæ•¸å­—
- é€Ÿåº¦è¼¸å…¥å¿…é ˆ > 0ï¼ˆmm/sï¼‰
- é‹å‹•æ¨¡å¼å’Œå¹³æ»‘å€¼å¯é¸

#### å‰ç½®æª¢æŸ¥
1. **é¦¬é”ç‹€æ…‹æª¢æŸ¥** - ç¢ºä¿é¦¬é”å·²é–‹å•Ÿ
2. **æ“ä½œæ¨¡å¼æª¢æŸ¥** - é©—è­‰æ‰‹è‡‚åœ¨è‡ªå‹•æ¨¡å¼ï¼ˆè‹¥ä¸æ˜¯æœƒå˜—è©¦è‡ªå‹•åˆ‡æ›ï¼‰
3. **é‹å‹•ç‹€æ…‹æŸ¥è©¢** - è¨˜éŒ„ç›®å‰çš„é‹å‹•ç‹€æ…‹
4. **å¯é”æ€§æª¢æŸ¥** - é©—è­‰ç›®æ¨™é»åœ¨å·¥ä½œç¯„åœå…§ä¸”ä¸æœƒç”¢ç”Ÿå¥‡ç•°é»
5. **è·¯å¾‘æª¢æŸ¥** - é©—è­‰å¾ç›®å‰ä½ç½®åˆ°ç›®æ¨™ä½ç½®çš„ç›´ç·šè·¯å¾‘ç„¡éšœç¤™

#### å‘½ä»¤åŸ·è¡Œ
- å…ˆè¨­å®šé€Ÿåº¦ï¼ˆmm/sï¼‰
- åŸ·è¡Œ `lin_pos` çµ•å°åº§æ¨™é‹å‹•
- è‹¥å‘½ä»¤å¤±æ•—æœƒè‡ªå‹•æª¢æŸ¥è­¦å ±ä»£ç¢¼

#### å®Œæˆç­‰å¾…
- ç›£æ§å‘½ä»¤ä½‡åˆ—ç›´åˆ°ç‚ºç©º
- ç­‰æ•ˆæ–¼ç¤ºæ•™å™¨ä¸Šã€Œåˆ°é»å¾Œæ‰ä¸‹ä¸€è¡Œã€çš„æ•ˆæœ
- æ¯ 100ms æª¢æŸ¥ä¸€æ¬¡ä½‡åˆ—ç‹€æ…‹

### 5. æ—¥èªŒç³»çµ±
- **æ™‚é–“æˆ³è¨˜** - æ¯å‰‡è¨Šæ¯éƒ½å¸¶æœ‰ HH:mm:ss.fff æ ¼å¼çš„ç²¾ç¢ºæ™‚é–“
- **å¤šåŸ·è¡Œç·’å®‰å…¨** - SDK å›å‘¼å‡½å¼çš„æ—¥èªŒé€é `BeginInvoke` ç¢ºä¿åŸ·è¡Œç·’å®‰å…¨
- **è¨ºæ–·ä¿¡æ¯** - åŒ…æ‹¬è¿”å›ç¢¼ã€ç‹€æ…‹å€¼å’Œè­¦å ±ä»£ç¢¼ç­‰è©³ç´°è³‡è¨Š
- **å¯æ»¾å‹•è¦–çª—** - æ”¯æ´å°‡æ—¥èªŒåŒ¯å‡ºä»¥å”åŠ©é™¤éŒ¯

---

## ğŸ—ï¸ å°ˆæ¡ˆæ¶æ§‹

```
RA605-connect-test/
â”‚
â”œâ”€â”€ RA605-connect-test2.csproj          # å°ˆæ¡ˆé…ç½®æª”ï¼ˆ.NET 10 WinFormsï¼‰
â”‚
â”œâ”€â”€ README.md                            # æœ¬æª”æ¡ˆï¼ˆå°ˆæ¡ˆæ–‡æª”ï¼‰
â”œâ”€â”€ .gitignore                           # Git å¿½ç•¥æ¸…å–®
â”œâ”€â”€ LICENSE                              # æˆæ¬Šæ¢æ¬¾ï¼ˆMITï¼‰
â”‚
â””â”€â”€ åŸå§‹ç¢¼ç›®éŒ„
    â”œâ”€â”€ Form1.cs                         # â­ ä¸»è¡¨å–®é‚è¼¯ï¼ˆ680+ è¡Œï¼‰
    â”œâ”€â”€ Form1.Designer.cs                # è‡ªå‹•ç”Ÿæˆçš„ UI è¨­è¨ˆä»£ç¢¼
    â”œâ”€â”€ Form1.resx                       # è³‡æºæª”ï¼ˆåœ–æ¨™ã€æœ¬åœ°åŒ–ç­‰ï¼‰
    â”‚
    â”œâ”€â”€ Program.cs                       # æ‡‰ç”¨ç¨‹å¼é€²å…¥é»
    â”‚
    â”œâ”€â”€ sdk/
    â”‚   â””â”€â”€ HRobot.cs                    # Hiwin SDK åŒ…è£é¡ï¼ˆP/Invokeï¼‰
    â”‚
    â””â”€â”€ obj/, bin/                       # ç·¨è­¯è¼¸å‡ºç›®éŒ„ï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰
```

### ç›®éŒ„çµæ§‹èªªæ˜

| ç›®éŒ„/æª”æ¡ˆ | èªªæ˜ |
|---------|------|
| **æ ¹ç›®éŒ„** | å°ˆæ¡ˆæ ¹è³‡æ–™å¤¾ï¼ŒåŒ…å«å°ˆæ¡ˆé…ç½®å’Œæ–‡æª” |
| **RA605-connect-test2.csproj** | å°ˆæ¡ˆæª”ï¼Œå®šç¾©ä¾è³´ã€ç‰ˆæœ¬ã€ç·¨è­¯è¨­ç½® |
| **README.md** | å°ˆæ¡ˆæ–‡æª”ï¼ˆä½ æ­£åœ¨é–±è®€ï¼‰ |
| **.gitignore** | Git ç‰ˆæœ¬æ§åˆ¶çš„å¿½ç•¥æª”æ¡ˆæ¸…å–® |
| **LICENSE** | MIT é–‹æºè¨±å¯è­‰ |
| **Form1.cs** | ä¸»è¡¨å–®çš„æ¥­å‹™é‚è¼¯å’Œäº‹ä»¶è™•ç† |
| **Form1.Designer.cs** | WinForms è‡ªå‹•ç”Ÿæˆçš„ UI å…ƒä»¶ä»£ç¢¼ |
| **Form1.resx** | WinForms è³‡æºæª”ï¼ˆæœ¬åœ°åŒ–å­—ç¬¦ä¸²ã€åœ–æ¨™ç­‰ï¼‰ |
| **Program.cs** | æ‡‰ç”¨ç¨‹å¼é€²å…¥é»ï¼ˆMain æ–¹æ³•ï¼‰ |
| **sdk/HRobot.cs** | Hiwin SDK C# åŒ…è£é¡ |
| **obj/** | ä¸­é–“ç·¨è­¯æª”æ¡ˆï¼ˆè‡ªå‹•ç”Ÿæˆï¼Œå¯åˆªé™¤ï¼‰ |
| **bin/** | æœ€çµ‚è¼¸å‡ºæª”æ¡ˆï¼ˆexeã€dll ç­‰ï¼‰ |

---

## ğŸ“„ æª”æ¡ˆè©³ç´°èªªæ˜

### ğŸ”´ Form1.csï¼ˆä¸»è¦é‚è¼¯æª”æ¡ˆï¼‰

**è·è²¬**ï¼šæ‡‰ç”¨ç¨‹å¼çš„æ ¸å¿ƒé‚è¼¯å’Œ UI äº‹ä»¶è™•ç†

**è¡Œæ•¸**ï¼š680+ è¡Œ

**ä»£ç¢¼çµæ§‹** - ä½¿ç”¨ `#region` åˆ†çµ„ï¼š

```csharp
#region Constantsï¼ˆå¸¸æ•¸ï¼‰
    // ç‹€æ…‹ç¢¼ã€å»¶é²æ™‚é–“ã€é è¨­å€¼ç­‰

#region Fieldsï¼ˆæ¬„ä½ï¼‰
    // æ©Ÿæ¢°æ‰‹è‡‚ IDã€é€£ç·šç‹€æ…‹

#region Connection Managementï¼ˆé€£æ¥ç®¡ç†ï¼‰
    private bool IsConnected
    private void EnsureConnected(string operationName)
    private void CallBackFun(...)
    private void btnConnect_Click(...)
    private void DisplaySdkVersion()
    private void LogConnectionErrorHints(...)
    private void SetConnectionUIState(...)
    private void btnDisconnect_Click(...)
    private void Disconnect()
    private void btnExit_Click(...)

#region Motor Controlï¼ˆé¦¬é”æ§åˆ¶ï¼‰
    private void btnMotorOn_Click(...)
    private void btnMotorOff_Click(...)
    private void SetMotorState(int state)
    private void HandleMotorStateNotConfirmed(...)
    private void HandleMotorCommandFailed(...)
    private void TryShowAlarms()

#region Position Managementï¼ˆä½ç½®ç®¡ç†ï¼‰
    private void btnGetCurrentPos_Click(...)
    private void LoadCurrentPosition()
    private void SetPositionTextBoxes(...)
    private void LogCurrentPosition(...)
    private void LogCurrentJoints()

#region LIN Motionï¼ˆç›´ç·šé‹å‹•ï¼‰
    private void btnLinTest_Click(...)
    private void ExecuteLinMotion()
    private bool TryReadPositionAndSpeed(...)
    private int ParseLinMode()
    private bool CheckMotorState()
    private bool CheckAndSetOperationMode()
    private bool CheckTargetReachability(...)
    private bool CheckLinPath(...)
    private bool ExecuteLinCommand(...)
    private void WaitForMotionComplete()

#region Helper Methodsï¼ˆè¼”åŠ©æ–¹æ³•ï¼‰
    private bool TryReadDouble(...)
    private void AppendLog(string msg)
    private void AppendLogThreadSafe(string msg)
    protected override void OnFormClosing(...)
```

**é—œéµç‰¹æ€§**ï¼š
- âœ… æ‰€æœ‰å¸¸æ•¸éƒ½æœ‰å‘½åï¼ˆç„¡é­”æ•¸ï¼‰
- âœ… æ¯å€‹æ–¹æ³•å–®ä¸€è·è²¬
- âœ… è©³ç´°çš„ä¸­æ–‡è¨»è§£å’Œ XML æ–‡æª”è¨»é‡‹
- âœ… çµ±ä¸€çš„éŒ¯èª¤è™•ç†å’Œç”¨æˆ¶æç¤º
- âœ… åŸ·è¡Œç·’å®‰å…¨ï¼ˆä½¿ç”¨ `volatile` å’Œ `BeginInvoke`ï¼‰

**ä¸»è¦æ–¹æ³•æ•¸é‡**ï¼š45+ å€‹ï¼ˆåŒ…æ‹¬äº‹ä»¶è™•ç†ã€é‚è¼¯ã€è¼”åŠ©æ–¹æ³•ï¼‰

### ğŸ”µ Form1.Designer.cs

**è·è²¬**ï¼šWinForms è¨­è¨ˆå™¨è‡ªå‹•ç”Ÿæˆçš„ UI å…ƒä»¶ä»£ç¢¼

**ç‰¹é»**ï¼š
- è‡ªå‹•ç”Ÿæˆï¼Œ**è«‹å‹¿æ‰‹å‹•ç·¨è¼¯**
- åŒ…å«æ‰€æœ‰æŒ‰éˆ•ã€æ–‡å­—æ¡†ã€æ¨™ç±¤çš„åˆå§‹åŒ–ä»£ç¢¼
- åŒ…å« Layoutã€å­—é«”ã€å¤§å°ç­‰è¨­ç½®

**å…¸å‹çš„ UI å…ƒä»¶**ï¼š
```csharp
// æŒ‰éˆ•
private Button btnConnect;
private Button btnDisconnect;
private Button btnMotorOn;
private Button btnMotorOff;
private Button btnGetCurrentPos;
private Button btnLinTest;
private Button btnExit;

// è¼¸å…¥æ¡†
private TextBox txtIP;
private TextBox txtX, txtY, txtZ, txtA, txtB, txtC;
private TextBox txtLinSpeed;
private TextBox txtSmooth;

// ä¸‹æ‹‰é¸å–®
private ComboBox cboLinMode;

// é¡¯ç¤ºæ§ä»¶
private TextBox txtLog;
private Label lblStatus;

// å…¶ä»–
private TableLayoutPanel layoutMain;
```

**ç”Ÿæˆæ–¹å¼**ï¼šé€é Visual Studio çš„ WinForms è¨­è¨ˆå™¨ç”Ÿæˆ

### ğŸŸ¢ Form1.resxï¼ˆè³‡æºæª”ï¼‰

**è·è²¬**ï¼šå­˜å„² UI ç›¸é—œçš„è³‡æºï¼ˆæœ¬åœ°åŒ–å­—ç¬¦ä¸²ã€åœ–æ¨™ã€å­—é«”ç­‰ï¼‰

**å¸¸è¦‹å…§å®¹**ï¼š
- UI å…ƒä»¶çš„å±¬æ€§åºåˆ—åŒ–
- æœ¬åœ°åŒ–çš„å­—ç¬¦ä¸²è³‡æº
- åœ–æ¨™å’Œåœ–åƒè³‡æº
- å­—é«”å’Œé¡è‰²å®šç¾©

**æ ¼å¼**ï¼šXML æ ¼å¼ï¼Œç”± Visual Studio è‡ªå‹•ç®¡ç†

**ç·¨è¼¯æ–¹å¼**ï¼š
- é€é Visual Studio è¨­è¨ˆå™¨ï¼ˆæ¨è–¦ï¼‰
- æˆ–ç›´æ¥ç·¨è¼¯ XMLï¼ˆä¸æ¨è–¦ï¼‰

### ğŸŸ¡ Program.csï¼ˆæ‡‰ç”¨ç¨‹å¼é€²å…¥é»ï¼‰

**è·è²¬**ï¼šæ‡‰ç”¨ç¨‹å¼çš„å•Ÿå‹•é»

**å…¸å‹ä»£ç¢¼**ï¼š
```csharp
using System;
using System.Windows.Forms;

namespace RA605_connect_test2
{
    static class Program
    {
        /// <summary>
        /// æ‡‰ç”¨ç¨‹å¼çš„ä¸»è¦é€²å…¥é»
        /// </summary>
        [STAThread]
        static void Main()
        {
            // åˆå§‹åŒ– WinForms æ‡‰ç”¨ç¨‹å¼
            ApplicationConfiguration.Initialize();
            
            // å•Ÿå‹•ä¸»è¡¨å–®
            Application.Run(new Form1());
        }
    }
}
```

**é‡è¦èªªæ˜**ï¼š
- `[STAThread]` - Single-Threaded Apartmentï¼ŒWinForms å¿…éœ€
- `ApplicationConfiguration.Initialize()` - .NET æ–°å¼åˆå§‹åŒ–æ–¹å¼
- `Application.Run(new Form1())` - å•Ÿå‹•ä¸»è¡¨å–®ä¸¦é€²å…¥æ¶ˆæ¯å¾ªç’°

**ç·¨è¼¯æç¤º**ï¼šé€šå¸¸ç„¡éœ€ä¿®æ”¹æ­¤æª”æ¡ˆ

### ğŸŸ£ sdk/HRobot.csï¼ˆSDK åŒ…è£é¡ï¼‰

**è·è²¬**ï¼šHiwin Robot SDK çš„ C# åŒ…è£å’Œ P/Invoke è²æ˜

**å…§å®¹ç¤ºä¾‹**ï¼š
```csharp
using System;
using System.Runtime.InteropServices;
using System.Text;

namespace SDKHrobot
{
    /// <summary>
    /// Hiwin Robot SDK çš„ P/Invoke åŒ…è£é¡
    /// </summary>
    public static class HRobot
    {
        // P/Invoke DLL åç¨±
        private const string DLL_NAME = "HRSDK.dll";
        
        // SDK å‡½å¼è²æ˜
        [DllImport(DLL_NAME)]
        public static extern void get_hrsdk_version(StringBuilder ver);
        
        [DllImport(DLL_NAME)]
        public static extern int open_connection(
            string ip, int level, 
            HRobotSDK_Callback callback);
        
        [DllImport(DLL_NAME)]
        public static extern int disconnect(int robot_id);
        
        [DllImport(DLL_NAME)]
        public static extern int get_motor_state(int robot_id);
        
        [DllImport(DLL_NAME)]
        public static extern int set_motor_state(int robot_id, int state);
        
        // ... æ›´å¤š SDK å‡½å¼
        
        // å›å‘¼å‡½å¼å§”æ‰˜
        [UnmanagedFunctionPointer(CallingConvention.StdCall)]
        public delegate void HRobotSDK_Callback(
            ushort cmd, ushort rlt, ref ushort msg, int len);
    }
}
```

**é—œéµæ¦‚å¿µ**ï¼š
- **P/Invoke** - å‘¼å«æœ¬æ©Ÿ DLLï¼ˆC++ ç·¨å¯«çš„ HRSDK.dllï¼‰
- **DllImport** - è²æ˜è¦å°å…¥çš„ DLL å‡½å¼
- **UnmanagedFunctionPointer** - è²æ˜æœ¬æ©Ÿå›å‘¼å‡½å¼ç°½å

**å¸¸è¦‹çš„ SDK å‡½å¼**ï¼š
| å‡½å¼ | èªªæ˜ |
|------|------|
| `get_hrsdk_version()` | å–å¾— SDK ç‰ˆæœ¬ |
| `open_connection()` | é€£æ¥æ‰‹è‡‚æ§åˆ¶å™¨ |
| `disconnect()` | æ–·é–‹é€£æ¥ |
| `get_motor_state()` | æŸ¥è©¢é¦¬é”ç‹€æ…‹ |
| `set_motor_state()` | è¨­å®šé¦¬é”ç‹€æ…‹ |
| `get_current_position()` | å–å¾—ç•¶å‰åº§æ¨™ |
| `lin_pos()` | åŸ·è¡Œç›´ç·šé‹å‹• |
| `get_command_count()` | æŸ¥è©¢å‘½ä»¤ä½‡åˆ—æ•¸é‡ |
| `get_alarm_code()` | å–å¾—è­¦å ±ä»£ç¢¼ |

### ğŸ“‹ RA605-connect-test2.csprojï¼ˆå°ˆæ¡ˆé…ç½®ï¼‰

**è·è²¬**ï¼š.NET å°ˆæ¡ˆé…ç½®å’Œä¾è³´ç®¡ç†

**é—œéµå…§å®¹**ï¼š
```xml
<Project Sdk="Microsoft.NET.Sdk.WindowsDesktop">
  
  <!-- å°ˆæ¡ˆå±¬æ€§ -->
  <PropertyGroup>
    <OutputType>WinExe</OutputType>
    <TargetFramework>net10.0-windows</TargetFramework>
    <RootNamespace>RA605_connect_test2</RootNamespace>
    <AssemblyName>RA605-connect-test2</AssemblyName>
    <LangVersion>latest</LangVersion>
    <UseWindowsForms>true</UseWindowsForms>
  </PropertyGroup>
  
  <!-- NuGet å¥—ä»¶ä¾è³´ -->
  <ItemGroup>
    <!-- WinForms ä¾è³´æœƒè‡ªå‹•åŒ…å« -->
  </ItemGroup>
  
</Project>
```

**é‡è¦è¨­ç½®**ï¼š| è¨­å®š | å€¼ | èªªæ˜ |
|------|----|----|
| `OutputType` | WinExe | è¼¸å‡º Windows å¯åŸ·è¡Œæª” |
| `TargetFramework` | net10.0-windows | ç›®æ¨™ .NET 10ï¼ˆWindows ç‰¹å®šï¼‰ |
| `UseWindowsForms` | true | å•Ÿç”¨ WinForms æ”¯æ´ |
| `LangVersion` | latest | ä½¿ç”¨æœ€æ–° C# èªè¨€ç‰¹æ€§ |

### ğŸ“ README.mdï¼ˆå°ˆæ¡ˆæ–‡æª”ï¼‰

**è·è²¬**ï¼šå°ˆæ¡ˆæ–‡æª”å’Œä½¿ç”¨æŒ‡å—

**åŒ…å«å…§å®¹**ï¼š
- âœ… é …ç›®æ¦‚è¦½å’Œä¸»è¦åŠŸèƒ½
- âœ… é©ç”¨ç’°å¢ƒèªªæ˜ï¼ˆHRSS å’Œå¯¦æ©Ÿï¼‰
- âœ… é‡è¦æ³¨æ„äº‹é …ï¼ˆEXT æ¨¡å¼è¨­ç½®ï¼‰
- âœ… æŠ€è¡“æ¶æ§‹èªªæ˜
- âœ… ä½¿ç”¨éœ€æ±‚
- âœ… å»ºç½®å’ŒåŸ·è¡Œæ­¥é©Ÿ
- âœ… æ•…éšœæ’é™¤æŒ‡å—
- âœ… é–‹ç™¼æŒ‡å—

**æ ¼å¼**ï¼šMarkdownï¼ˆGitHub ç›¸å®¹ï¼‰

### ğŸ”’ LICENSEï¼ˆè¨±å¯è­‰ï¼‰

**å…§å®¹**ï¼šMIT é–‹æºè¨±å¯è­‰

**å«ç¾©**ï¼š
- âœ… å¯è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹ã€ç™¼ä½ˆ
- âœ… å¿…é ˆä¿ç•™è¨±å¯è²æ˜
- âŒ ä¸æä¾›ä»»ä½•ä¿è­‰

---

## æŠ€è¡“æ¶æ§‹

### ä»£ç¢¼çµ„ç¹”
æ‡‰ç”¨ç¨‹å¼ä½¿ç”¨ `#region` é€²è¡Œé‚è¼¯åˆ†å€ï¼š

| å€åŸŸ | åŠŸèƒ½ |
|------|------|
| **Constants** | æ‰€æœ‰å¸¸æ•¸å®šç¾©ï¼ˆç‹€æ…‹ç¢¼ã€å»¶é²æ™‚é–“ç­‰ï¼‰ |
| **Fields** | ç§æœ‰æ¬„ä½ï¼ˆæ©Ÿæ¢°æ‰‹è‡‚ IDã€é€£ç·šç‹€æ…‹ï¼‰ |
| **Connection Management** | é€£ç·šã€æ–·é–‹ã€SDK ç‰ˆæœ¬æŸ¥è©¢ |
| **Motor Control** | é¦¬é”é–‹é—œã€ç‹€æ…‹æª¢æŸ¥ã€è­¦å ±å›å ± |
| **Position Management** | ä½ç½®æŸ¥è©¢ã€åº§æ¨™è¼‰å…¥ |
| **LIN Motion** | é‹å‹•é©—è­‰ã€åŸ·è¡Œå’Œå®Œæˆç­‰å¾… |
| **Helper Methods** | æ—¥èªŒã€åƒæ•¸è®€å–ç­‰è¼”åŠ©å‡½å¼ |

### è¨­è¨ˆåŸå‰‡
- **å¸¸æ•¸åŒ–** - æ‰€æœ‰é­”æ•¸éƒ½æå–ç‚ºå‘½åå¸¸æ•¸ä¾¿æ–¼ç¶­è­·
- **æ–¹æ³•åˆ†è§£** - å¤§å‹æ–¹æ³•æ‹†åˆ†ç‚ºå–®ä¸€è·è²¬çš„å°æ–¹æ³•
- **éŒ¯èª¤è™•ç†** - çµ±ä¸€çš„ç•°å¸¸è™•ç†å’Œç”¨æˆ¶æç¤º
- **åŸ·è¡Œç·’å®‰å…¨** - ä½¿ç”¨ `volatile` å’Œ `BeginInvoke` ç¢ºä¿å¤šåŸ·è¡Œç·’å®‰å…¨

---

## ä½¿ç”¨éœ€æ±‚

### è»Ÿé«”ç’°å¢ƒ
- **.NET ç‰ˆæœ¬** - .NET 10
- **é–‹ç™¼ç’°å¢ƒ** - Visual Studio 2022 æˆ–æ›´æ–°ç‰ˆæœ¬ï¼ˆå•Ÿç”¨ Windows Forms å·¥ä½œè² è¼‰ï¼‰
- **Windows ç‰ˆæœ¬** - Windows 7 æˆ–æ›´æ–°

### ç¡¬é«”å’Œå¤–éƒ¨ä¾è³´

#### å°æ–¼ HRSSï¼ˆè™›æ“¬ç’°å¢ƒï¼‰ï¼š
- ä»»ä½•å¯é‹è¡Œ HRSS çš„ Windows PC
- Hiwin HRSSï¼ˆHiwin Robot Simulation Systemï¼‰å·²å®‰è£
- RA605 æ©Ÿæ¢°æ‰‹è‡‚æ¨¡å‹å·²åœ¨ HRSS ä¸­åŠ è¼‰
- **HRSDK.dll**ï¼ˆè™›æ“¬ç‰ˆæœ¬ï¼‰

#### å°æ–¼æ‰‹è‡‚å¯¦æ©Ÿï¼š
- **HRSDK** - éœ€å®‰è£ Hiwin Robot SDKï¼ˆå¯¦æ©Ÿç‰ˆï¼‰
- **SDK ç¨‹å¼åº«** - `HRSDK.dll` å¿…é ˆåœ¨å¯åŸ·è¡Œæª”æ—æˆ–åœ¨ PATH ä¸­
- **ç¶²è·¯** - èƒ½é€éè¨­å®šçš„ IP ä½å€å­˜å–æ‰‹è‡‚æ§åˆ¶å™¨
- **æ‰‹è‡‚æ§åˆ¶å™¨** - HIWIN RA605 æˆ–ç›¸å®¹å‹è™Ÿ
- æ§åˆ¶å™¨ç¶²è·¯ä»‹é¢å¡é…ç½®ï¼ˆç¢ºä¿èˆ‡ PC åœ¨åŒä¸€å­ç¶²ï¼‰

---

## å»ºç½®æ­¥é©Ÿ

### 1. ç’°å¢ƒæº–å‚™
```bash
# ç¢ºä¿å·²å®‰è£ .NET 10 SDK
dotnet --version

# ç¢ºä¿å·²å®‰è£ Visual Studio 2022
# ä¸¦å•Ÿç”¨ Windows Forms å·¥ä½œè² è¼‰
```

### 2. é–‹å•Ÿå°ˆæ¡ˆ
```bash
# ä½¿ç”¨ Visual Studio é–‹å•Ÿ
start RA605-connect-test2.csproj

# æˆ–ä½¿ç”¨ Visual Studio Code
code .
```

### 3. å»ºç½®æ‡‰ç”¨ç¨‹å¼
```bash
# åœ¨ Visual Studio ä¸­ï¼š
# é¸å–® â†’ Build â†’ Build Solutionï¼ˆæˆ–æŒ‰ Ctrl+Shift+Bï¼‰

# æˆ–åœ¨å‘½ä»¤åˆ—ä¸­ï¼š
dotnet build
```

### 4. é…ç½® HRSDK
- å°‡ `HRSDK.dll` è¤‡è£½åˆ°è¼¸å‡ºç›®éŒ„ï¼ˆ`bin/Debug/net10.0-windows/` æˆ– `bin/Release/net10.0-windows/`ï¼‰
- æˆ–ç¢ºä¿ HRSDK çš„å®‰è£è·¯å¾‘å·²åŠ å…¥ç³»çµ± PATH

---

## åŸ·è¡Œèªªæ˜

### ğŸ’» ä½¿ç”¨ HRSSï¼ˆè™›æ“¬ç’°å¢ƒï¼‰çš„æ­¥é©Ÿ

#### ç¬¬ 1 æ­¥ï¼šå•Ÿå‹• HRSS
1. é–‹å•Ÿ HRSS æ‡‰ç”¨ç¨‹å¼
2. åŠ è¼‰ RA605 æ©Ÿæ¢°æ‰‹è‡‚æ¨¡å‹
3. **åœ¨ HRSS ä¸­å°‡æ“ä½œæ¨¡å¼è¨­ç‚º EXT**ï¼ˆé‡è¦ï¼ï¼‰
4. è¨˜ä¸‹ HRSS ä¸­çš„æ§åˆ¶å™¨ IPï¼ˆé€šå¸¸ç‚º localhost æˆ– 127.0.0.1ï¼ŒPORT é€šå¸¸ç‚º 9090ï¼‰

#### ç¬¬ 2 æ­¥ï¼šå•Ÿå‹•æœ¬æ‡‰ç”¨
```bash
# åœ¨ Visual Studio ä¸­æŒ‰ F5ï¼ˆDebugï¼‰æˆ– Ctrl+F5ï¼ˆReleaseï¼‰
# æˆ–ç›´æ¥åŸ·è¡Œè¼¸å‡ºçš„ .exe æª”æ¡ˆ
